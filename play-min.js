let chrono,images=shuffle(["Images_Memory/images avec fond/caca licorne.png","Images_Memory/images avec fond/licorne folle.png","Images_Memory/images avec fond/licorne ivre.png","Images_Memory/images avec fond/licorne mitraillette.png","Images_Memory/images avec fond/licorne pète.png","Images_Memory/images avec fond/licorne pipi.png","Images_Memory/images avec fond/licorne vomit wc.png","Images_Memory/images avec fond/licorne vomito.png","Images_Memory/images avec fond/caca licorne.png","Images_Memory/images avec fond/licorne folle.png","Images_Memory/images avec fond/licorne ivre.png","Images_Memory/images avec fond/licorne mitraillette.png","Images_Memory/images avec fond/licorne pète.png","Images_Memory/images avec fond/licorne pipi.png","Images_Memory/images avec fond/licorne vomit wc.png","Images_Memory/images avec fond/licorne vomito.png"]),totalCard=images.length,pileDeCarte=[],compteurDeCoup=0;function init(){afficherTab(),document.addEventListener("keypress",restartGame)}function afficherTab(){chrono=0;let e=document.getElementById("plateau");e.innerHTML="";for(let r=0;r<4;r++){let n=document.createElement("tr");for(let e=0;e<4;e++){let a=document.createElement("td"),o=document.createElement("img");o.src="Images_Memory/images avec fond/reverse card unimemory.png",o.alt="image face cachée arc en ciel avec ecrit uniMemory",o.classList.add("memory-image"),o.id=4*r+e,o.addEventListener("click",flipCard),a.appendChild(o),n.appendChild(a)}e.appendChild(n)}compteurDeCoup=0,document.getElementById("compteur").innerHTML=compteurDeCoup}function returnCard(e,r){e.src="Images_Memory/images avec fond/reverse card unimemory.png",r.src="Images_Memory/images avec fond/reverse card unimemory.png",pileDeCarte=[],e.classList.remove("find"),r.classList.remove("find")}function flipCard(e){if(e.srcElement.classList.contains("find"))return;if(2==pileDeCarte.length)return;e.srcElement.classList.add("find");let r=e.srcElement.id;if(e.srcElement.src=images[r],pileDeCarte.push(e.srcElement),2==pileDeCarte.length){compteurDeCoup+=1,document.getElementById("compteur").innerHTML=compteurDeCoup,pileDeCarte[0].src==pileDeCarte[1].src?(pileDeCarte=[],totalCard-=2,0==totalCard&&(localStorage.setItem("scores",localStorage.getItem("scores")+";"+compteurDeCoup),localStorage.setItem("temps",localStorage.getItem("temps")+";"+chrono),clearInterval(intervalChrono),window.alert("Yay c'est fini!"))):setTimeout(returnCard,500,pileDeCarte[0],pileDeCarte[1])}}function shuffle(e){let r,n=e.length;for(;0!=n;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}function restartGame(){init()}window.onload=init,intervalChrono=setInterval((()=>{document.getElementById("timer").innerHTML=chrono,chrono+=1}),1e3),document.addEventListener("keydown",(function(e){32===e.Code&&restartGame()}));